<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafetyHelp | Login</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        /* Existing styles assumed to be here */
        .success-message {
            background-color: #d4edda;
            color: #155724;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
            text-align: center;
        }
        .error-message {
            background-color: #f8d7da;
            color: #721c24;
            padding: 10px;
            margin-top: 10px;
            border-radius: 5px;
            text-align: center;
        }
    </style>
</head>
<body>
    <header>
        <a href="/SafetyHelp/index.html" class="logo">SafetyHelp</a>
        <nav>
            <a href="/SafetyHelp/index.html">Home</a>
            <a href="/SafetyHelp/resources.html">Resources</a>
            <a href="/SafetyHelp/services.html">Services</a>
            <a href="/SafetyHelp/community.html">Community</a>
            <a href="/SafetyHelp/about.html">About</a>
            <a href="/SafetyHelp/contact.html">Contact</a>
            <a href="/SafetyHelp/login.html" class="active">Login / SignUp</a>
        </nav>
        <select id="language-select">
            <option value="en">English</option>
            <option value="af">Afrikaans</option>
            <option value="zu">isiZulu</option>
            <option value="xh">isiXhosa</option>
        </select>
    </header>

    <main>
        <section class="auth-hero">
            <h1>Access Your SafetyHelp Account</h1>
            <p>Log in to manage your OHS compliance, or sign up to unlock a suite of tools and resources designed for your safety needs.</p>
        </section>

        <div id="auth-message"></div>

        <section class="auth-container">
            <aside class="tools-sidebar">
                <h3>SafetyHelp Tools</h3>
                <ul>
                    <li><a href="#">Construction Safety</a></li>
                    <li><a href="#">Emergency Planning</a></li>
                    <li><a href="#">Risk Assessment</a></li>
                    <li><a href="#">Legal Appointments</a></li>
                    <li><a href="#">Incident Management</a></li>
                    <li><a href="#">Training</a></li>
                    <li><a href="#">Inspections & Audits</a></li>
                    <li><a href="#">Suppliers</a></li>
                    <li><a href="#">Legislation</a></li>
                    <li><a href="#">Community Tools</a></li>
                    <li><a href="#">Member Dashboard</a></li>
                    <li><a href="#">OHS System Modules</a></li>
                </ul>
            </aside>

            <div class="auth-forms">
                <div class="tabs">
                    <button class="tab active" onclick="showTab('login')">Log In</button>
                    <button class="tab" onclick="showTab('signup')">Sign Up</button>
                </div>

                <div id="login" class="form-content active">
                    <h2>Log In to Your Account</h2>
                    <form id="login-form">
                        <input type="email" id="login-email" placeholder="Email" required>
                        <input type="password" id="login-password" placeholder="Password" required>
                        <button type="submit">Log In</button>
                        <button type="button" id="google-login">Continue with Google</button>
                        <a href="#">Forgot your Password?</a>
                    </form>
                </div>

                <div id="signup" class="form-content">
                    <h2>Create Your Free Account</h2>
                    <form id="signup-form">
                        <input type="email" id="signup-email" placeholder="Email" required>
                        <input type="password" id="signup-password" placeholder="Password" required>
                        <input type="text" id="signup-company" placeholder="Company Name" required>
                        <input type="tel" id="signup-phone" placeholder="Phone Number" required>
                        <button type="submit">Sign Up</button>
                        <button type="button" id="google-signup">Sign Up with Google</button>
                    </form>
                </div>
            </div>

            <div class="membership-info">
                <h3>Choose the Right Plan for Your Needs</h3>
                <table>
                    <tr><th>Feature</th><th>Non-Registered User (Guest/Visitor)</th><th>Registered User (Free)</th><th>Subscribed Member (Paid)</th></tr>
                    <tr><td>Access to Basic Tools</td><td>Yes</td><td>Yes</td><td>Yes</td></tr>
                    <tr><td>Document Downloads</td><td>Limited (Temp. Access, 7 Days)</td><td>Permanent Access</td><td>Permanent Access</td></tr>
                    <tr><td>Cost Per Document</td><td>Standard Price (No Discount)</td><td>Up to 5% Discount</td><td>Up to 25% Discount</td></tr>
                    <tr><td>Early Access to New Features</td><td>No</td><td>Yes</td><td>Yes</td></tr>
                    <tr><td>Access to Book & Product Launches</td><td>No</td><td>Yes</td><td>Yes (Early Access)</td></tr>
                    <tr><td>Exclusive Discounts</td><td>No</td><td>No</td><td>Yes</td></tr>
                    <tr><td>Website Trusted Seal</td><td>No</td><td>No</td><td>Yes</td></tr>
                    <tr><td>Preference in Content Featuring</td><td>No</td><td>No</td><td>Yes</td></tr>
                    <tr><td>Personalized Dashboard</td><td>No</td><td>Yes</td><td>Yes (Enhanced)</td></tr>
                    <tr><td>Community Participation</td><td>Limited</td><td>Full Access</td><td>Full Access + Priority</td></tr>
                </table>
                <button>Sign Up Now & Get Started</button>
                <p>Unlock More with a Free Account!<br>While guests can explore many of our resources, signing up for a free Registered User account grants you permanent access to downloaded documents, a personalized dashboard, and full community participation. It's quick, easy, and enhances your SafetyHelp experience!</p>
            </div>
        </section>

        <section class="milestones">
            <h2>OHS Milestones</h2>
            <ul>
                <li>3000 BC: Early First Aid (Egypt)</li>
                <li>400 BC: Lead Poisoning (Greece)</li>
                <li>50 AD: Protective Masks (Rome)</li>
                <!-- Other milestones as in original -->
            </ul>
        </section>
    </main>

    <footer>
        <p>Â© 2025 SafetyHelp. All rights reserved. Your Partner in Occupational Health and Safety Compliance.</p>
        <nav>
            <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a> | <a href="#">Contact Us</a>
        </nav>
        <div class="subscribe">
            <h4>Stay Updated with SafetyHelp</h4>
            <input type="email" placeholder="Enter your email">
            <button>Subscribe</button>
        </div>
    </footer>

    <div id="milestone-modal" class="modal">
        <div class="modal-content">
            <h2>Milestone Detail</h2>
            <span class="close-modal">&times;</span>
            <p></p>
        </div>
    </div>

    <div id="chatbot-window" class="chatbot">
        <h3>Salatiso - Your OHS Assistant</h3>
        <span class="close-chatbot">&times;</span>
        <div id="chat-output">
            <p>Salatiso: Hello! How can I help you with OHS today?</p>
        </div>
        <textarea id="chat-input" placeholder="Type your message..."></textarea>
        <button id="chat-send">Send</button>
    </div>

    <script>
        function showTab(tabName) {
            document.querySelectorAll('.form-content').forEach(form => form.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            document.querySelector(`button[onclick="showTab('${tabName}')"]`).classList.add('active');
        }

        function displayMessage(message, type) {
            const messageContainer = document.getElementById('auth-message');
            messageContainer.innerHTML = `<div class="${type}-message">${message}</div>`;
            setTimeout(() => {
                messageContainer.innerHTML = '';
            }, 5000);
        }

        // Placeholder authentication logic (to be replaced with Firebase later)
        const mockAuth = {
            signupWithEmail: (email, password, company, phone) => {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if (email && password && company && phone) {
                            resolve({ email, company });
                        } else {
                            reject(new Error("Invalid signup details"));
                        }
                    }, 1000);
                });
            },
            loginWithEmail: (email, password) => {
                return new Promise((resolve, reject) => {
                    setTimeout(() => {
                        if (email && password) {
                            resolve({ email });
                        } else {
                            reject(new Error("Invalid login details"));
                        }
                    }, 1000);
                });
            },
            googleAuth: () => {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve({ email: "googleuser@example.com" });
                    }, 1000);
                });
            }
        };

        // Email Signup
        document.getElementById('signup-form').addEventListener('submit', async (event) => {
            event.preventDefault();
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            const company = document.getElementById('signup-company').value;
            const phone = document.getElementById('signup-phone').value;
            try {
                await mockAuth.signupWithEmail(email, password, company, phone);
                displayMessage("Registration successful! Redirecting to dashboard...", "success");
                setTimeout(() => {
                    window.location.href = '/SafetyHelp/secure/member-dashboard.html';
                }, 2000);
            } catch (error) {
                displayMessage(error.message, "error");
            }
        });

        // Email Login
        document.getElementById('login-form').addEventListener('submit', async (event) => {
            event.preventDefault();
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            try {
                await mockAuth.loginWithEmail(email, password);
                displayMessage("Login successful! Redirecting to dashboard...", "success");
                setTimeout(() => {
                    window.location.href = '/SafetyHelp/secure/member-dashboard.html';
                }, 2000);
            } catch (error) {
                displayMessage(error.message, "error");
            }
        });

        // Google Signup
        document.getElementById('google-signup').addEventListener('click', async () => {
            try {
                await mockAuth.googleAuth();
                displayMessage("Registration with Google successful! Redirecting to dashboard...", "success");
                setTimeout(() => {
                    window.location.href = '/SafetyHelp/secure/member-dashboard.html';
                }, 2000);
            } catch (error) {
                displayMessage(error.message, "error");
            }
        });

        // Google Login
        document.getElementById('google-login').addEventListener('click', async () => {
            try {
                await mockAuth.googleAuth();
                displayMessage("Login with Google successful! Redirecting to dashboard...", "success");
                setTimeout(() => {
                    window.location.href = '/SafetyHelp/secure/member-dashboard.html';
                }, 2000);
            } catch (error) {
                displayMessage(error.message, "error");
            }
        });
    </script>
</body>
</html>
