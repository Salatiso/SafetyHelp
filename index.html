<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafetyHelp - Your OHS Partner</title>
    <style>
        /* --- Reset & Base Styles --- */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f4f4f4;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* --- Branding Guidelines (Conceptual) --- */
        :root {
            --brand-primary-blue: #005A9C;
            --brand-secondary-orange: #FFA500;
            --brand-hover-green: #28a745;
            --brand-light-blue: #e0efff; /* For announcement bar */
            --text-color-light: #ffffff;
            --text-color-dark: #333333;
            --border-color: #ddd;
            --card-bg: #ffffff;
            --panel-bg: #f9f9f9;
        }

        /* --- Header --- */
        .site-header {
            background-color: var(--brand-primary-blue);
            color: var(--text-color-light);
            padding: 15px 0;
            border-bottom: 3px solid var(--brand-secondary-orange);
        }

        .site-header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap; /* For smaller screens */
        }

        .logo-text {
            font-size: 28px;
            font-weight: bold;
            color: var(--text-color-light);
            text-decoration: none;
        }
        .logo-text .safety { color: var(--text-color-light); }
        .logo-text .help { color: var(--brand-secondary-orange); }

        .header-right {
            display: flex;
            align-items: center;
            margin-top: 10px; /* Space on smaller screens */
        }
        @media (min-width: 768px) {
            .header-right {
                margin-top: 0;
            }
        }


        .search-bar {
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            margin-right: 15px;
            font-size: 14px;
        }

        .language-selector select {
            padding: 8px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
            background-color: var(--text-color-light);
            color: var(--text-color-dark);
            font-size: 14px;
        }

        /* --- Launch Announcement Bar --- */
        .launch-announcement {
            background-color: var(--brand-light-blue);
            color: var(--text-color-dark);
            padding: 20px;
            text-align: center;
            position: relative;
            border-bottom: 1px solid var(--border-color);
            display: block; /* Initially visible */
            transition: opacity 0.5s ease, max-height 0.5s ease;
            overflow: hidden;
            max-height: 500px; /* Adjust as needed */
        }

        .launch-announcement.dismissed {
            opacity: 0;
            max-height: 0;
            padding-top: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .launch-announcement h2 {
            font-size: 1.4em;
            margin-bottom: 8px;
            color: var(--brand-primary-blue);
        }

        .launch-announcement p {
            font-size: 0.95em;
            margin-bottom: 12px;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }

        .launch-cta-button {
            background-color: var(--brand-secondary-orange);
            color: var(--text-color-light);
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: bold;
            transition: background-color 0.3s ease;
            border: none;
            cursor: pointer;
            display: inline-block;
        }

        .launch-cta-button:hover {
            background-color: #e09500; /* Darker orange */
        }

        .dismiss-button {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-color-dark);
            line-height: 1;
        }
        .dismiss-button:hover {
            color: var(--brand-primary-blue);
        }

        /* --- Main Content Area --- */
        .main-content-area .container {
            display: flex;
            flex-wrap: wrap; /* Allow stacking on mobile */
            padding-top: 20px;
            gap: 20px; /* Space between columns */
        }

        /* Shared Sidebar Styles */
        .sidebar {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            height: fit-content;
            width: 100%; /* Full width on mobile */
        }
        @media (min-width: 992px) { /* Desktop: fixed width */
            .sidebar {
                width: 260px;
                flex-shrink: 0; /* Prevent shrinking */
            }
        }


        .sidebar-title {
            font-size: 1.5em;
            margin-bottom: 15px;
            font-weight: bold;
        }
        .sidebar-title .safety { color: var(--brand-primary-blue); }
        .sidebar-title .help { color: var(--brand-secondary-orange); }

        /* Left Column (Tools Sidebar) */
        .tool-list {
            list-style: none;
        }

        .tool-list li a {
            display: block;
            padding: 10px 15px;
            text-decoration: none;
            color: var(--brand-primary-blue);
            border-radius: 4px;
            margin-bottom: 5px;
            transition: background-color 0.3s ease, color 0.3s ease;
            font-weight: 500;
        }

        .tool-list li a:hover,
        .tool-list li a.active {
            background-color: var(--brand-hover-green);
            color: var(--text-color-light);
        }
        .tool-list li a.active {
            font-weight: bold;
        }

        /* Central Column (Flexible Width) */
        .central-column {
            flex: 1; /* Takes remaining space */
            min-width: 0; /* Allows shrinking below content size if needed */
            background-color: transparent; /* No background, content cards will have it */
            padding: 0; /* Padding will be on individual cards */
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .central-content-card {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }


        .welcome-message {
            font-size: 1.8em;
            margin-bottom: 20px; /* Reduced margin as it's in a card */
            color: var(--text-color-dark);
        }
        .welcome-message .safety-help-brand {
            font-weight: bold;
        }
        .welcome-message .safety-help-brand .safety { color: var(--brand-primary-blue); }
        .welcome-message .safety-help-brand .help { color: var(--brand-secondary-orange); }


        .mini-panels-container {
            display: flex;
            flex-wrap: wrap; /* Stack on smaller screens */
            gap: 20px; /* Space between panels */
            margin-bottom: 0; /* No margin as it's the last element in its card */
        }

        .mini-panel {
            flex: 1; /* Each panel takes equal space */
            min-width: 280px; /* Minimum width before stacking */
            background-color: var(--panel-bg);
            padding: 20px;
            border-radius: 6px;
            border: 1px solid var(--border-color);
        }

        .mini-panel h3 {
            font-size: 1.2em;
            margin-bottom: 10px;
            color: var(--brand-primary-blue);
        }
        .mini-panel p {
            font-size: 0.9em;
            margin-bottom: 10px;
            min-height: 40px; /* Ensure some space for text */
        }
        .mini-panel input[type="text"], .mini-panel input[type="number"], .mini-panel select {
            width: 100%;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid var(--border-color);
            border-radius: 4px;
        }
        .mini-panel button {
            background-color: var(--brand-secondary-orange);
            color: var(--text-color-light);
            padding: 10px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            font-size: 0.9em;
            margin-top: 5px;
        }
        .mini-panel button:hover {
            background-color: #e09500;
        }
        .quiz-feedback {
            font-size: 0.9em;
            margin-top:10px;
            font-weight: bold;
        }
        .quiz-feedback .score { color: var(--brand-hover-green); }
        .quiz-feedback .leader { color: var(--brand-primary-blue); }


        .key-features-section h2 {
            font-size: 1.6em;
            margin-bottom: 20px;
            text-align: center;
            color: var(--text-color-dark);
        }

        .feature-tiles {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .feature-tile {
            background-color: var(--panel-bg);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            overflow: hidden; /* For smooth expansion */
        }

        .feature-tile-header {
            padding: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #f0f0f0;
            transition: background-color 0.3s ease;
        }
        .feature-tile-header:hover {
            background-color: #e9e9e9;
        }

        .feature-tile-header h4 {
            font-size: 1.1em;
            margin: 0;
            color: var(--brand-primary-blue);
        }
        .feature-tile-header .icon {
            font-size: 1.5em;
            margin-right: 10px;
        }
        .feature-tile-header .toggle-icon {
            font-size: 1.2em;
            transition: transform 0.3s ease;
        }
        .feature-tile.expanded .toggle-icon {
            transform: rotate(180deg);
        }

        .feature-tile-teaser {
            padding: 0 15px 10px 15px;
            font-size: 0.9em;
            color: #555;
        }

        .feature-tile-details {
            padding: 0 15px 15px 15px;
            font-size: 0.9em;
            max-height: 0;
            opacity: 0;
            transition: max-height 0.5s ease-out, opacity 0.3s ease-out, padding 0.5s ease-out;
        }

        .feature-tile.expanded .feature-tile-details {
            max-height: 300px; /* Adjust as needed */
            opacity: 1;
            padding-top: 10px;
        }

        .quick-access-section h2 {
            font-size: 1.6em;
            margin-bottom: 20px;
            text-align: center;
            color: var(--text-color-dark);
        }
        .quick-access-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }
        .quick-access-button {
            background-color: var(--brand-primary-blue);
            color: var(--text-color-light);
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 5px;
            font-weight: 500;
            transition: background-color 0.3s ease;
            text-align: center;
            flex-grow: 1; /* Allow buttons to grow */
        }
        @media (min-width: 768px) {
            .quick-access-button {
                flex-grow: 0; /* Prevent full width on larger screens */
            }
        }
        .quick-access-button:hover {
            background-color: #00487a; /* Darker blue */
        }


        /* Right Column (OHS Snippets Timeline) */
        .timeline-list {
            list-style: none;
            max-height: 500px; /* Adjust as needed for auto-scroll */
            overflow-y: auto; /* Hidden initially, JS will handle scroll */
            padding-right: 10px; /* For scrollbar */
        }

        /* Custom scrollbar for timeline (optional) */
        .timeline-list::-webkit-scrollbar {
            width: 8px;
        }
        .timeline-list::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        .timeline-list::-webkit-scrollbar-thumb {
            background: var(--border-color);
            border-radius: 10px;
        }
        .timeline-list::-webkit-scrollbar-thumb:hover {
            background: #555;
        }


        .timeline-item {
            background-color: var(--panel-bg);
            margin-bottom: 10px;
            border-radius: 4px;
            border: 1px solid var(--border-color);
            overflow: hidden;
        }

        .timeline-item-header {
            padding: 10px 15px;
            cursor: pointer;
            background-color: var(--brand-primary-blue);
            color: var(--text-color-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color 0.3s ease;
        }
        .timeline-item-header:hover {
             background-color: #00487a;
        }
        .timeline-item.expanded .timeline-item-header {
            background-color: var(--brand-hover-green);
        }


        .timeline-item-header h5 {
            margin: 0;
            font-size: 1em;
        }
        .timeline-item-header .toggle-icon-timeline {
            font-size: 1em;
            transition: transform 0.3s ease;
        }
        .timeline-item.expanded .toggle-icon-timeline {
            transform: rotate(180deg);
        }

        .timeline-item-summary {
            padding: 0 15px 15px 15px;
            font-size: 0.85em;
            max-height: 0;
            opacity: 0;
            transition: max-height 0.4s ease-out, opacity 0.3s ease-out, padding 0.4s ease-out;
        }
        .timeline-item.expanded .timeline-item-summary {
            max-height: 200px; /* Adjust as needed */
            opacity: 1;
            padding-top: 10px;
        }
        .timeline-item-summary a {
            color: var(--brand-secondary-orange);
            font-weight: bold;
            text-decoration: none;
        }
        .timeline-item-summary a:hover {
            text-decoration: underline;
        }

        /* Responsive Adjustments */
        @media (max-width: 991px) { /* Tablet and below */
            .main-content-area .container {
                flex-direction: column;
            }
            .sidebar {
                width: 100%; /* Full width for sidebars */
                margin-bottom: 20px;
            }
            .central-column {
                order: 0; /* Ensure central content is first or as desired */
            }
            .left-sidebar { order: 1; }
            .right-sidebar { order: 2; }
        }

        @media (max-width: 767px) { /* Mobile */
            .site-header .container {
                flex-direction: column;
                align-items: flex-start;
            }
            .header-right {
                width: 100%;
                margin-top: 15px;
                justify-content: space-between;
            }
            .search-bar {
                flex-grow: 1;
                margin-right: 10px;
            }
            .language-selector select {
                min-width: 100px;
            }

            .welcome-message { font-size: 1.5em; }
            .mini-panels-container { flex-direction: column; }
            .quick-access-buttons { flex-direction: column; }
            .quick-access-button { width: 100%; }

            .launch-announcement h2 { font-size: 1.2em; }
            .launch-announcement p { font-size: 0.9em; }
        }
    </style>
</head>
<body>

    <header class="site-header">
        <div class="container">
            <a href="index.html" class="logo-text">
                <span class="safety">Safety</span><span class="help">Help</span>
            </a>
            <div class="header-right">
                <input type="search" class="search-bar" placeholder="Search...">
                <div class="language-selector">
                    <select name="language" id="language">
                        <option value="en">English</option>
                        <option value="es">Español</option>
                        <option value="fr">Français</option>
                    </select>
                </div>
            </div>
        </div>
    </header>

    <div class="launch-announcement" id="launchAnnouncement">
        <button class="dismiss-button" id="dismissAnnouncementBtn" aria-label="Dismiss announcement">&times;</button>
        <h2>🚀 SafetyHelp Launches June 1, 2025! Be a Pioneer in OHS.</h2>
        <p>Our core platform is coming soon! Advanced modules (Construction Compliance, Risk Assessment, etc.) will follow in phases. Register now to join our exclusive Beta Program: test new features, shape development, and get complimentary premium access during your testing period. Limited spots available – rigorous application process applies to ensure valuable contributions.</p>
        <a href="login.html#signup-section" class="launch-cta-button">Join Beta & Register Now</a>
    </div>

    <main class="main-content-area">
        <div class="container">

            <aside class="left-sidebar sidebar">
                <h2 class="sidebar-title"><span class="safety">Safety</span><span class="help">Help</span> Tools</h2>
                <ul class="tool-list" id="toolList">
                    <li><a href="#" data-tool="dashboard">Dashboard</a></li>
                    <li><a href="#" data-tool="assessments">Risk Assessments</a></li>
                    <li><a href="#" data-tool="incidents">Incident Reporting</a></li>
                    <li><a href="#" data-tool="training">Training Modules</a></li>
                    <li><a href="#" data-tool="documents">Document Management</a></li>
                    <li><a href="#" data-tool="compliance">Compliance Checklists</a></li>
                    <li><a href="#" data-tool="reports">Analytics & Reports</a></li>
                </ul>
            </aside>

            <section class="central-column">
                <div class="central-content-card">
                    <h1 class="welcome-message">Welcome to <span class="safety-help-brand"><span class="safety">Safety</span><span class="help">Help</span></span>! Your partner in simplified OHS compliance.</h1>
                </div>

                <div class="central-content-card">
                    <div class="mini-panels-container">
                        <div class="mini-panel" id="safetyTipPanel">
                            <h3>💡 Daily Safety Tip</h3>
                            <p id="safetyTipContent">Loading safety tip...</p>
                            <button id="nextTipBtn">Next Tip</button>
                        </div>

                        <div class="mini-panel" id="quizPanel">
                            <h3>🧠 Brain of SafetyHelp - Daily Challenge!</h3>
                            <input type="text" id="quizUserName" placeholder="Enter your name">
                            <p id="quizQuestion">Loading question...</p>
                            <input type="text" id="quizAnswer" placeholder="Your answer here">
                            <!-- Example for multiple choice (can be dynamically added by JS)
                            <select id="quizAnswerOptions">
                                <option value="">Select an answer</option>
                            </select>
                            -->
                            <button id="submitQuizBtn">Submit Answer</button>
                            <div class="quiz-feedback">
                                <span id="quizScore">Your Score: 0</span> |
                                <span id="quizLeader">Today's Leader: Jane D. (150 pts)</span>
                            </div>
                            <a href="#" style="font-size:0.8em; margin-top:5px; display:inline-block;">View Full Ranking</a>
                        </div>
                    </div>
                </div>
                
                <div class="central-content-card key-features-section">
                    <h2>Why Choose SafetyHelp?</h2>
                    <div class="feature-tiles" id="featureTilesContainer">
                        </div>
                </div>

                <div class="central-content-card quick-access-section">
                    <h2>Quick Access</h2>
                    <div class="quick-access-buttons">
                        <a href="#" class="quick-access-button">Start a Risk Assessment</a>
                        <a href="#" class="quick-access-button">View OHS Resources</a>
                        <a href="#" class="quick-access-button">Latest Safety News</a>
                        <a href="#" class="quick-access-button">Contact Support</a>
                    </div>
                </div>
            </section>

            <aside class="right-sidebar sidebar">
                <h2 class="sidebar-title">OHS Milestones</h2>
                <ul class="timeline-list" id="timelineList">
                    </ul>
            </aside>

        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Dismiss Launch Announcement ---
            const announcementBar = document.getElementById('launchAnnouncement');
            const dismissBtn = document.getElementById('dismissAnnouncementBtn');
            if (dismissBtn && announcementBar) {
                dismissBtn.addEventListener('click', () => {
                    announcementBar.classList.add('dismissed');
                     // Optional: remove from DOM after animation if not needed anymore
                    setTimeout(() => {
                        if(announcementBar.classList.contains('dismissed')) {
                           // announcementBar.style.display = 'none'; // Alternative to full removal
                        }
                    }, 500); // Match CSS transition time
                });
            }

            // --- SafetyHelp Tools Link Activation ---
            const toolLinks = document.querySelectorAll('#toolList a');
            toolLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    toolLinks.forEach(l => l.classList.remove('active'));
                    this.classList.add('active');
                    // Future: Add logic to filter content based on this.dataset.tool
                    console.log('Tool selected:', this.dataset.tool);
                });
            });
            if (toolLinks.length > 0) toolLinks[0].classList.add('active'); // Activate first tool by default


            // --- Daily Safety Tip ---
            const safetyTips = [
                "Always wear appropriate Personal Protective Equipment (PPE).",
                "Report any unsafe conditions to your supervisor immediately.",
                "Keep walkways clear to prevent slips, trips, and falls.",
                "Understand emergency procedures and evacuation routes.",
                "Practice good housekeeping in your work area.",
                "Use tools and equipment correctly and only if trained.",
                "Take regular breaks to avoid fatigue, especially on long shifts.",
                "Lift correctly: bend your knees, keep your back straight.",
                "Be aware of chemical safety and SDS information.",
                "Using reputable ethical suppliers enhances overall workplace safety culture."
            ];
            const safetyTipContent = document.getElementById('safetyTipContent');
            const nextTipBtn = document.getElementById('nextTipBtn');
            let currentTipIndex = -1;

            function showRandomTip() {
                let newIndex;
                do {
                    newIndex = Math.floor(Math.random() * safetyTips.length);
                } while (newIndex === currentTipIndex && safetyTips.length > 1);
                currentTipIndex = newIndex;
                if (safetyTipContent) safetyTipContent.textContent = safetyTips[currentTipIndex];
            }
            if (nextTipBtn) nextTipBtn.addEventListener('click', showRandomTip);
            showRandomTip(); // Initial tip

            // --- Brain of SafetyHelp Quiz ---
            const quizQuestions = [
                { question: "What does PPE stand for?", answer: "Personal Protective Equipment", type: "input" },
                { question: "Which color typically signifies 'danger' or 'stop' on safety signs?", answer: "Red", type: "input" },
                { question: "What is the first step in a fire emergency?", answer: "Raise the alarm", type: "input" },
                { question: "The acronym SDS stands for Safety Data ____?", answer: "Sheet", type: "input"}
            ];
            const quizQuestionEl = document.getElementById('quizQuestion');
            const quizAnswerEl = document.getElementById('quizAnswer');
            const submitQuizBtn = document.getElementById('submitQuizBtn');
            const quizScoreEl = document.getElementById('quizScore');
            const quizUserNameEl = document.getElementById('quizUserName');
            let currentQuizQuestion = null;
            let userScore = 0;

            function displayQuizQuestion() {
                currentQuizQuestion = quizQuestions[Math.floor(Math.random() * quizQuestions.length)];
                if (quizQuestionEl) quizQuestionEl.textContent = currentQuizQuestion.question;
                if (quizAnswerEl) quizAnswerEl.value = '';
            }

            if (submitQuizBtn) {
                submitQuizBtn.addEventListener('click', () => {
                    if (!currentQuizQuestion || !quizAnswerEl || !quizScoreEl || !quizUserNameEl) return;
                    const userAnswer = quizAnswerEl.value.trim();
                    const userName = quizUserNameEl.value.trim() || "Anonymous";

                    if (userAnswer.toLowerCase() === currentQuizQuestion.answer.toLowerCase()) {
                        userScore += 10;
                        quizScoreEl.textContent = `Your Score: ${userScore}`;
                        quizScoreEl.classList.add('score');
                        setTimeout(()=> quizScoreEl.classList.remove('score'), 1000);
                        alert(`Correct, ${userName}! You earned 10 points.`); // Replace with modal in production
                    } else {
                        alert(`Incorrect, ${userName}. The answer was: ${currentQuizQuestion.answer}`); // Replace with modal
                    }
                    displayQuizQuestion(); // Display next question
                });
            }
            displayQuizQuestion(); // Initial question

            // --- Key Features Section (Accordion) ---
            const featureTilesData = [
                { 
                    icon: '🤖', title: 'AI-Powered Automation', 
                    teaser: 'Streamline compliance tasks with intelligent automation.', 
                    details: 'Our AI algorithms help identify potential risks, suggest corrective actions, and automate repetitive reporting tasks, saving you time and resources.' 
                },
                { 
                    icon: '📊', title: 'Comprehensive Analytics', 
                    teaser: 'Gain actionable insights from your safety data.', 
                    details: 'Visualize trends, track incident rates, and measure the effectiveness of your safety programs with our intuitive dashboards and reporting tools.' 
                },
                { 
                    icon: '📱', title: 'Mobile-First Access', 
                    teaser: 'Manage OHS on-the-go, anytime, anywhere.', 
                    details: 'Our platform is fully responsive, allowing your team to report incidents, complete checklists, and access safety documents directly from their mobile devices in the field.' 
                },
                 { 
                    icon: '📚', title: 'Centralized Resources', 
                    teaser: 'All your OHS documents and training in one place.', 
                    details: 'Keep policies, procedures, SDS, and training materials organized and easily accessible to all employees, ensuring everyone has the latest information.' 
                }
            ];
            const featureTilesContainer = document.getElementById('featureTilesContainer');
            if (featureTilesContainer) {
                featureTilesData.forEach(feature => {
                    const tile = document.createElement('div');
                    tile.className = 'feature-tile';
                    tile.innerHTML = `
                        <div class="feature-tile-header">
                            <div>
                                <span class="icon">${feature.icon}</span>
                                <h4>${feature.title}</h4>
                            </div>
                            <span class="toggle-icon">▼</span>
                        </div>
                        <p class="feature-tile-teaser">${feature.teaser}</p>
                        <div class="feature-tile-details">
                            <p>${feature.details}</p>
                        </div>
                    `;
                    featureTilesContainer.appendChild(tile);

                    const header = tile.querySelector('.feature-tile-header');
                    header.addEventListener('click', () => {
                        tile.classList.toggle('expanded');
                    });
                });
            }

            // --- OHS Snippets Timeline ---
            const timelineItemsData = [
                { year: "1911", title: "Mines & Works Act", summary: "Early legislation in South Africa focusing on safety in mining environments, laying groundwork for future OHS regulations.", learnMore: "#" },
                { year: "1970", title: "OSHA (USA)", summary: "The Occupational Safety and Health Act was enacted in the USA, a landmark for federal worker protection standards.", learnMore: "#" },
                { year: "1993", title: "OHS Act (SA)", summary: "South Africa's Occupational Health and Safety Act No. 85 established comprehensive duties for employers and rights for employees.", learnMore: "#" },
                { year: "2003", title: "COIDA Amendment", summary: "Amendments to the Compensation for Occupational Injuries and Diseases Act in SA, refining worker compensation.", learnMore: "#" },
                { year: "2015", title: "Global Harmonization", summary: "Increased focus on aligning OHS standards internationally, e.g., GHS for chemical classification.", learnMore: "#" },
                { year: "2022", title: "Mental Health Focus", summary: "Growing recognition and inclusion of psychosocial risks and mental well-being in OHS frameworks globally.", learnMore: "#" },
                { year: "Future", title: "Predictive Safety", summary: "Leveraging AI and big data to predict and prevent workplace incidents before they occur.", learnMore: "#" }
            ];
            const timelineList = document.getElementById('timelineList');
            let timelineScrollInterval;
            let scrollPaused = false;

            function populateTimeline() {
                if (!timelineList) return;
                timelineItemsData.forEach(item => {
                    const li = document.createElement('li');
                    li.className = 'timeline-item';
                    li.innerHTML = `
                        <div class="timeline-item-header">
                            <h5>${item.year}: ${item.title}</h5>
                            <span class="toggle-icon-timeline">▼</span>
                        </div>
                        <div class="timeline-item-summary">
                            <p>${item.summary}</p>
                            ${item.learnMore ? `<a href="${item.learnMore}">Learn More</a>` : ''}
                        </div>
                    `;
                    timelineList.appendChild(li);

                    const header = li.querySelector('.timeline-item-header');
                    header.addEventListener('click', () => {
                        // Close other expanded items
                        timelineList.querySelectorAll('.timeline-item.expanded').forEach(openItem => {
                            if (openItem !== li) openItem.classList.remove('expanded');
                        });
                        li.classList.toggle('expanded');
                    });
                });
            }

            function startTimelineScroll() {
                if (!timelineList || scrollPaused) return;
                timelineScrollInterval = setInterval(() => {
                    if (timelineList.scrollTop + timelineList.clientHeight >= timelineList.scrollHeight -1) { // -1 for potential rounding issues
                        timelineList.scrollTop = 0; // Loop to top
                    } else {
                        timelineList.scrollTop += 1; // Scroll speed
                    }
                }, 50); // Scroll interval
            }

            function stopTimelineScroll() {
                clearInterval(timelineScrollInterval);
            }

            if (timelineList) {
                populateTimeline();
                // Only start auto-scroll if there's enough content to scroll
                if (timelineList.scrollHeight > timelineList.clientHeight) {
                    startTimelineScroll();
                    timelineList.addEventListener('mouseenter', () => {
                        scrollPaused = true;
                        stopTimelineScroll();
                    });
                    timelineList.addEventListener('mouseleave', () => {
                        scrollPaused = false;
                        startTimelineScroll();
                    });
                }
            }
        });
    </script>
</body>
</html>
